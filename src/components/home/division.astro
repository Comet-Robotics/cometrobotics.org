---
// TODO: figure out whats wrong with the impulse picture

interface Props {
  backgroundImg: string
  backgroundPosition: string
  divisionName: string
  divisionDescription: string
  divisionOverview: string
  images: [string, string, string]
}
const {
  backgroundImg,
  backgroundPosition,
  divisionName,
  divisionDescription,
  images,
  divisionOverview,
} = Astro.props
---

<style>
  a:any-link {
    color: var(--text);
  }
</style>
<div
  style={{
    position: 'relative',
    backgroundImage: backgroundImg,
    height: '80vh',
    backgroundSize: 'cover',
    backgroundRepeat: 'no-repeat',
    backgroundPosition,
  }}
>
  <div
    style={{
      position: 'absolute',
      bottom: 0,
      right: 0,
      width: '100%',
      maxWidth: '20rem',
      backgroundColor: 'var(--primary)',
      padding: '2rem',
      display: 'flex',
      flexDirection: 'column',
      gap: '0.25rem',
    }}
  >
    <h4 class="font-unbounded">{divisionName}</h4>
    <p>
      {divisionDescription}
    </p>
  </div>
</div>
<div
  style={{
    padding: '0 5rem',
    margin: '5rem 0',
    flexDirection: 'column',
    display: 'flex',
    gap: '2rem'
  }}
>

    {divisionOverview.split("\n").map(text => (
      <h2 style={{
        fontWeight: '400',
        color: '#D9D9D9',
      }}>
        {text}
      </h2>
  ))}
  
  <div
    style={{
      display: 'flex',
      justifyItems: 'center',
      width: '100%',
      gap: '1rem',
    }}
    class="mobile-column"
  >
    {
      images.map((img) => (
        <img
          src={img}
          style={{
            objectFit: 'cover',
            width: '100%',
            height: '18rem',
            borderRadius: '1rem',
          }}
        />
      ))
    }
  </div>
  
  <h2 style={{
    fontWeight: '400',
    color: '#D9D9D9',
  }}>
    Learn more about projects from the {divisionName} division on our <a href="/projects">Projects</a> page!
  </h2>
</div>
